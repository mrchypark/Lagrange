---
layout: post
title:  "[작성중]데이터의 일부만 가져오기"
date:   `r Sys.time()`
categories: r subset
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

`subset`으로 표현되는 여러개의 데이터가 있는 자료형에서 일부만 가져오는 문법에 대해서 확인해 보겠습니다.

## 대괄호를 이용해서 일부만 가져오기

먼저 대괄호(`[]`)를 이용하여 일부만 가져오는 것을 설명해야 겠습니다. 영어로 `subset`이라고 하는데, 데이터를 다루는데 중요한 문법입니다. 1차원인 벡터(`vector`)와 2차원인 메트릭스(`matrix`)나 데이터 프레임(`data.frame`)에서 대괄호를 사용하는 가장 큰 차이는 중간에 쉼표(`,`)를 사용하는지 입니다. 

### 벡터에서 일부만 가져오기

```{r}
# letters는 R에 기본 내장되어 있는 알파벳 벡터입니다.
letters

letters[1]
letters[c(1,2,3)]
letters[c(3,2,1)]
```

우선 벡터는 대괄호 안에 숫자를 사용해서 그 위치에 있는 값만 가져옵니다. 한개 일때는 물론 한개의 위치값만 주면 되지만 여러 개일때 조심해야 합니다. 대괄호(`[]`) 안에는 데이터가 여러개인 숫자 벡터(`long vector`)가 들어갈 수 있습니다. 각 숫자가 위치(`index`)를 의미하기 때문에 순서를 바꾸면 바꾼 순서대로 출력됩니다.

한가지 재미있는 점은 일부만 가져오고자 하는 벡터의 길이만한 논리 벡터도 대괄호 안에 들어가서 일부를 가져올 수 있다는 점입니다.

```{r}
loc<-sample(c(T,F),26,T)
loc

letters[loc]
```

이때는 물론 순서를 바꾸는 것은 못하지만, 논리 벡터도 대괄호 안에 들어가서 데이터를 일부만 가져오는 문법으로 사용할 수 있다는 것을 확인했습니다.

### 데이터 프레임에서 일부만 가져오기

데이터 프레임(`data.frame`)은 행(`row`)과 열(`column`)이 있는 R의 대표적인 자료형입니다. 각각의 열은 이름(`names`)이 있고, 각각의 행은 이름을 지정할 순 있지만 관례적으로 위치 번호(`index`)만 사용합니다. 이렇게 생겼기 때문에 데이터 프레임은 자료를 일부만 가져오려면 행과 열, 두 가지를 결정해야 합니다. 

```
data[ 행의 일부 , 열의 일부 ]
```
데이터 프레임에서 대괄호 안에는 위와 같은 식으로 구성됩니다. 쉼표(`,`)를 기준으로 왼쪽은 행의 일부에 해당하는 `조건`이, 오른쪽은 열의 일부에 해당하는 `선택`이 들어갑니다. 데이터 프레임은 리스트(`list`)의 특별히 제한된 형태인데, 그것 때문에 열은 `선택`만 가능합니다. 행은 `조건`이라고 하고, 열은 `선택`이라고 하는 이유는 열의 일부는 조건을 열의 `이름`으로만 줄 수 있기 때문입니다. `열의 일부`는 `열 이름 벡터`중 일부만 가져오는 것과 의미가 같습니다.